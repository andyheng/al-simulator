!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){a(e,t,r[t])})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t);var o={title:"Light Construction",dropdownVal:"Light",image:"./src/img/banners/light.jpg",limited:!1,cost:1,rates:{ssrRate:.07,srRate:.12,rRate:.26,srThreshold:.19,rThreshold:.45},ships:{ssr:[{name:"Montpelier",rarity:"SSR",limited:!1},{name:"San Diego",rarity:"SSR",limited:!1},{name:"Belfast",rarity:"SSR",limited:!1},{name:"Akashi",rarity:"SSR",limited:!1}],sr:[{name:"Cleveland",rarity:"SR",limited:!1},{name:"Denver",rarity:"SR",limited:!1},{name:"Maury",rarity:"SR",limited:!1},{name:"Charles Ausburne",rarity:"SR",limited:!1},{name:"Laffey",rarity:"SR",limited:!1},{name:"Helena",rarity:"SR",limited:!1},{name:"Glowworm",rarity:"SR",limited:!1},{name:"Javelin",rarity:"SR",limited:!1},{name:"Vampire",rarity:"SR",limited:!1},{name:"Edinburgh",rarity:"SR",limited:!1},{name:"Aurora",rarity:"SR",limited:!1},{name:"Fubuki",rarity:"SR",limited:!1},{name:"Ayanami",rarity:"SR",limited:!1},{name:"Yuubari",rarity:"SR",limited:!1},{name:"Z1",rarity:"SR",limited:!1},{name:"Z23",rarity:"SR",limited:!1},{name:"Yat Sen",rarity:"SR",limited:!1},{name:"Ning Hai",rarity:"SR",limited:!1},{name:"Ping Hai",rarity:"SR",limited:!1},{name:"St Louis",rarity:"SR",limited:!1},{name:"Nowaki",rarity:"SR",limited:!1}],r:[{name:"Phoenix",rarity:"R",limited:!1},{name:"Amazon",rarity:"R",limited:!1},{name:"Gridley",rarity:"R",limited:!1},{name:"Fletcher",rarity:"R",limited:!1},{name:"Thatcher",rarity:"R",limited:!1},{name:"Benson",rarity:"R",limited:!1},{name:"Sims",rarity:"R",limited:!1},{name:"Hammann",rarity:"R",limited:!1},{name:"Brooklyn",rarity:"R",limited:!1},{name:"Atlanta",rarity:"R",limited:!1},{name:"Juneau",rarity:"R",limited:!1},{name:"Acasta",rarity:"R",limited:!1},{name:"Ardent",rarity:"R",limited:!1},{name:"Fortune",rarity:"R",limited:!1},{name:"Juno",rarity:"R",limited:!1},{name:"Achilles",rarity:"R",limited:!1},{name:"Ajax",rarity:"R",limited:!1},{name:"Hatsuharu",rarity:"R",limited:!1},{name:"Hatsushimo",rarity:"R",limited:!1},{name:"Ariake",rarity:"R",limited:!1},{name:"Yuugure",rarity:"R",limited:!1},{name:"Leipzig",rarity:"R",limited:!1},{name:"Arethusa",rarity:"R",limited:!1},{name:"Galatea",rarity:"R",limited:!1},{name:"Bailey",rarity:"R",limited:!1},{name:"Kamikaze",rarity:"R",limited:!1},{name:"Matsukaze",rarity:"R",limited:!1},{name:"Jersey",rarity:"R",limited:!1},{name:"Urakaze",rarity:"R",limited:!1},{name:"Isokaze",rarity:"R",limited:!1},{name:"Tanikaze",rarity:"R",limited:!1},{name:"Ooshio",rarity:"R",limited:!1},{name:"Concord",rarity:"R",limited:!1}],n:[{name:"Downes",rarity:"N",limited:!1},{name:"Cassin",rarity:"N",limited:!1},{name:"Craven",rarity:"N",limited:!1},{name:"McCall",rarity:"N",limited:!1},{name:"Aulick",rarity:"N",limited:!1},{name:"Foote",rarity:"N",limited:!1},{name:"Spence",rarity:"N",limited:!1},{name:"Omaha",rarity:"N",limited:!1},{name:"Raleigh",rarity:"N",limited:!1},{name:"Bulldog",rarity:"N",limited:!1},{name:"Beagle",rarity:"N",limited:!1},{name:"Comet",rarity:"N",limited:!1},{name:"Crescent",rarity:"N",limited:!1},{name:"Cygnet",rarity:"N",limited:!1},{name:"Foxhound",rarity:"N",limited:!1},{name:"Leander",rarity:"N",limited:!1},{name:"Nagara",rarity:"N",limited:!1},{name:"Konigsberg",rarity:"N",limited:!1},{name:"Karlsruhe",rarity:"N",limited:!1},{name:"Koln",rarity:"N",limited:!1},{name:"Mutsuki",rarity:"N",limited:!1},{name:"Kisaragi",rarity:"N",limited:!1},{name:"Uzuki",rarity:"N",limited:!1}]}},s={title:"Heavy Construction",dropdownVal:"Heavy",image:"./src/img/banners/heavy.jpg",limited:!1,cost:2,rates:{ssrRate:.07,srRate:.12,rRate:.51,srThreshold:.19,rThreshold:.7},ships:{ssr:[{name:"Hood",rarity:"SSR",limited:!1},{name:"Prinz Eugen",rarity:"SSR",limited:!1},{name:"Warspite",rarity:"SSR",limited:!1},{name:"Takao",rarity:"SSR",limited:!1},{name:"Belfast",rarity:"SSR",limited:!1}],sr:[{name:"Dorsetshire",rarity:"SR",limited:!1},{name:"Nelson",rarity:"SR",limited:!1},{name:"York",rarity:"SR",limited:!1},{name:"Erebus",rarity:"SR",limited:!1},{name:"Terror",rarity:"SR",limited:!1},{name:"Houston",rarity:"SR",limited:!1},{name:"Indianapolis",rarity:"SR",limited:!1},{name:"Wichita",rarity:"SR",limited:!1},{name:"Arizona",rarity:"SR",limited:!1},{name:"Edinburgh",rarity:"SR",limited:!1},{name:"London",rarity:"SR",limited:!1},{name:"Exeter",rarity:"SR",limited:!1},{name:"Renown",rarity:"SR",limited:!1},{name:"Queen Elizabeth",rarity:"SR",limited:!1},{name:"Rodney",rarity:"SR",limited:!1},{name:"Abercrombie",rarity:"SR",limited:!1}],r:[{name:"Suffolk",rarity:"R",limited:!1},{name:"Sussex",rarity:"R",limited:!1},{name:"Northampton",rarity:"R",limited:!1},{name:"Chicago",rarity:"R",limited:!1},{name:"Portland",rarity:"R",limited:!1},{name:"Pennsylvania",rarity:"R",limited:!1},{name:"Tennessee",rarity:"R",limited:!1},{name:"California",rarity:"R",limited:!1},{name:"Shropshire",rarity:"R",limited:!1},{name:"Kent",rarity:"R",limited:!1},{name:"Norfolk",rarity:"R",limited:!1},{name:"Repulse",rarity:"R",limited:!1},{name:"Ise",rarity:"R",limited:!1},{name:"Hyuuga",rarity:"R",limited:!1}],n:[{name:"Nevada",rarity:"N",limited:!1},{name:"Aoba",rarity:"N",limited:!1},{name:"Oklahoma",rarity:"N",limited:!1},{name:"Kinugasa",rarity:"N",limited:!1},{name:"Pensacola",rarity:"N",limited:!1}]}},l={title:"Special Construction",dropdownVal:"Special",image:"./src/img/banners/special.jpg",limited:!1,cost:2,rates:{ssrRate:.07,srRate:.12,rRate:.51,srThreshold:.19,rThreshold:.7},ships:{ssr:[{name:"Enterprise",rarity:"SSR",limited:!1},{name:"Prinz Eugen",rarity:"SSR",limited:!1},{name:"Illustrious",rarity:"SSR",limited:!1},{name:"Takao",rarity:"SSR",limited:!1}],sr:[{name:"Lexington",rarity:"SR",limited:!1},{name:"Saratoga",rarity:"SR",limited:!1},{name:"Yorktown",rarity:"SR",limited:!1},{name:"Hornet",rarity:"SR",limited:!1},{name:"Vestal",rarity:"SR",limited:!1},{name:"Houston",rarity:"SR",limited:!1},{name:"Indianapolis",rarity:"SR",limited:!1},{name:"Wichita",rarity:"SR",limited:!1},{name:"Unicorn",rarity:"SR",limited:!1},{name:"Edinburgh",rarity:"SR",limited:!1},{name:"London",rarity:"SR",limited:!1},{name:"Ark Royal",rarity:"SR",limited:!1},{name:"Dorsetshire",rarity:"SR",limited:!1},{name:"I-26",rarity:"SR",limited:!1},{name:"I-58",rarity:"SR",limited:!1},{name:"Dace",rarity:"SR",limited:!1}],r:[{name:"Suffolk",rarity:"R",limited:!1},{name:"Long Island",rarity:"R",limited:!1},{name:"Chicago",rarity:"R",limited:!1},{name:"Portland",rarity:"R",limited:!1},{name:"Shropshire",rarity:"R",limited:!1},{name:"Kent",rarity:"R",limited:!1},{name:"Norfolk",rarity:"R",limited:!1}],n:[{name:"Ranger",rarity:"N",limited:!1},{name:"Hermes",rarity:"N",limited:!1},{name:"Langley",rarity:"N",limited:!1},{name:"Bogue",rarity:"N",limited:!1},{name:"Pensacola",rarity:"N",limited:!1}]}},c={lightConstruction:n({},o),heavyConstruction:{title:"Heavy Construction",dropdownVal:"Heavy",image:"./src/img/banners/heavy.jpg",limited:!1,cost:2,rates:{ssrRate:.07,srRate:.12,rRate:.51,srThreshold:.19,rThreshold:.7},ships:n({},s.ships,{ssr:[].concat(i(s.ships.ssr),[{name:"Atago",rarity:"SSR",limited:!1},{name:"Prince of Wales",rarity:"SSR",limited:!1}]),sr:[].concat(i(s.ships.sr),[{name:"Deutschland",rarity:"SR",limited:!1}])})},specialConstruction:n({},l,{ships:n({},l.ships,{ssr:[].concat(i(l.ships.ssr),[{name:"Shoukaku",rarity:"SSR",limited:!1},{name:"Zuikaku",rarity:"SSR",limited:!1},{name:"I-19",rarity:"SSR",limited:!1},{name:"U-81",rarity:"SSR",limited:!1},{name:"Centaur",rarity:"SSR",limited:!1}]),sr:[].concat(i(l.ships.sr),[{name:"Glorious",rarity:"SR",limited:!1}])})}),lunarNewYears:n({},o,{title:"Lunar New Year's 2019",dropdownVal:"LunarNewYear2019",image:"./src/img/banners/lunar-new-year-2019.jpg",limited:!0,rates:n({},o.rates,{srLimited:{rate1:.02},rLimited:{rate1:.035}}),ships:n({},o.ships,{sr:[].concat(i(o.ships.sr),[{name:"Chaser",rarity:"SR",limited:!0,rate:.02},{name:"Tai Yuan",rarity:"SR",limited:!0,rate:.02},{name:"Chang Chun",rarity:"SR",limited:!0,rate:.02},{name:"Mullany",rarity:"SR",limited:!0,rate:.02}]),r:[].concat(i(o.ships.r),[{name:"Curlew",rarity:"R",limited:!0,rate:.035},{name:"Curacoa",rarity:"R",limited:!0,rate:.035},{name:"Kimberly",rarity:"R",limited:!0,rate:.035}])})}),crimsonEchoes:n({},s,{title:"Crimson Echoes",dropdownVal:"CrimsonEchoes",image:"./src/img/banners/crimson-echoes.jpg",limited:!0,rates:n({},s.rates,{ssrLimited:{rate1:.02,rate2:.005},srLimited:{rate1:.025},rLimited:{rate1:.05}}),ships:n({},s.ships,{ssr:[].concat(i(s.ships.ssr),[{name:"Amagi",img:"https://azurlane.koumakan.jp/w/images/8/84/AmagiIcon.png",rarity:"SSR",limited:!0,rate:.02},{name:"Kaga BB",img:"https://azurlane.koumakan.jp/w/images/7/7f/Kaga_%28Battleship%29Icon.png",rarity:"SSR",limited:!0,rate:.005}]),sr:[].concat(i(s.ships.sr),[{name:"Ashigara",img:"https://azurlane.koumakan.jp/w/images/8/82/AshigaraIcon.png",rarity:"SR",limited:!0,rate:.025}]),r:[].concat(i(s.ships.r),[{name:"Naka",img:"https://azurlane.koumakan.jp/w/images/a/ae/NakaIcon.png",rarity:"R",limited:!0,rate:.05},{name:"Hatakaze",img:"https://azurlane.koumakan.jp/w/images/9/91/HatakazeIcon.png",rarity:"R",limited:!0,rate:.05}])})}),oppositeColouredRerun:n({},s,{title:"Opposite Colored (Rerun)",dropdownVal:"OppositeColoredRerun",image:"./src/img/banners/opposite-colored-rerun.jpg",limited:!0,rates:n({},s.rates,{ssrLimited:{rate1:.02,rate2:.015},srLimited:{rate1:.025},rLimited:{rate1:.05}}),ships:n({},s.ships,{ssr:[].concat(i(s.ships.ssr),[{name:"Graf Zeppelin",rarity:"SSR",limited:!0,rate:.02},{name:"U-47",rarity:"SSR",limited:!0,rate:.02},{name:"Z46",rarity:"SSR",limited:!0,rate:.015}]),sr:[].concat(i(s.ships.sr),[{name:"Admiral Hipper",rarity:"SR",limited:!0,rate:.025},{name:"Z35",rarity:"SR",limited:!0,rate:.025},{name:"Z25",rarity:"SR",limited:!0,rate:.025}]),r:[].concat(i(s.ships.r),[{name:"Z19",rarity:"R",limited:!0,rate:.05}])})}),wintersCrownRerun:n({},s,{title:"Winter's Crown (Rerun)",dropdownVal:"OppositeColoredRerun",image:"./src/img/banners/winters-crown-rerun.jpg",limited:!0,rates:n({},s.rates,{ssrLimited:{rate1:.02,rate2:.0225},srLimited:{rate1:.025},rLimited:{rate1:.05}}),ships:n({},s.ships,{ssr:[].concat(i(s.ships.ssr),[{name:"Sirius",rarity:"SSR",limited:!0,rate:.02},{name:"Victorious",rarity:"SSR",limited:!0,rate:.0225}]),sr:[].concat(i(s.ships.sr),[{name:"Matchless",rarity:"SR",limited:!0,rate:.025},{name:"Sheffield",rarity:"SR",limited:!0,rate:.025}]),r:[].concat(i(s.ships.r),[{name:"Jamaica",rarity:"R",limited:!0,rate:.05}])})}),essexAirRaid:n({},l,{title:"Air Raid Drills with Essex",dropdownVal:"EssexAirRaid",image:"./src/img/banners/air-raid-drills.jpg",limited:!0,rates:n({},l.rates,{ssrLimited:{rate1:.02,rate2:.018}}),ships:n({},l.ships,{ssr:[].concat(i(l.ships.ssr),[{name:"Shangri-La",rarity:"SSR",limited:!0,rate:.02},{name:"Essex",rarity:"SSR",limited:!0,rate:.018}])})}),arcticFjord:n({},o,{title:"Starry Sky Over the Arctic Fjord",dropdownVal:"StarrySkyArcticFjord",image:"./src/img/banners/starry-sky-over-arctic-fjord.jpg",limited:!0,rates:n({},o.rates,{srLimited:{rate1:.014}}),ships:n({},o.ships,{sr:[].concat(i(o.ships.sr),[{name:"Hardy",rarity:"SR",limited:!0,rate:.014},{name:"Z2",rarity:"SR",limited:!0,rate:.014}])})})};function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){p(e,t,r[t])})}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S,R,f,C,g,b=(S={currentBanner:"",currentConstructed:[],totalRolls:0,sinceLastSSRCounter:0,rarityCounter:{nCount:0,rCount:0,srCount:0,ssrCount:0},shipCounter:{nShipsCount:{},rShipsCount:{},srShipsCount:{},ssrShipsCount:{}}},R=function(){var e=S.shipCounter,t=e.nShipsCount,r=e.rShipsCount,i=e.srShipsCount,n=e.ssrShipsCount,a=function(e){return Object.keys(e).map(function(e){return{name:e,counter:0}}).reduce(function(e,t){return e[t.name]={counter:t.counter},e},{})},o={nShipsCount:a(t),rShipsCount:a(r),srShipsCount:a(i),ssrShipsCount:a(n)};S.shipCounter=y({},S.shipCounter,o)},{publicSetBannerTitle:function(e){!function(e){S.currentBanner=e}(e)},returnTitle:function(){return S.currentBanner},publicSetInitialShipCounter:function(e){!function(e){var t=e.ssr,r=e.sr,i=e.r,n=function(e){return e.reduce(function(e,t){return e[t.name]={counter:0},e},{})},a={nShipsCount:n(e.n),rShipsCount:n(i),srShipsCount:n(r),ssrShipsCount:n(t)};S.shipCounter=y({},S.shipCounter,a)}(e)},publicSetCurrentConstructedState:function(e){!function(e){S.currentConstructed=h(e)}(e)},returnCurrentConstructed:function(){return S.currentConstructed},publicAddTotal:function(){S.totalRolls+=1},returnTotalRolls:function(){return S.totalRolls},publicCheckIfLastIsSSR:function(e){!function(e){"SSR"===e.rarity?S.sinceLastSSRCounter=0:S.sinceLastSSRCounter+=1}(e)},returnLastSSRCounter:function(){return S.sinceLastSSRCounter},publicAddToRarityCounter:function(e){!function(e){var t="".concat(e.rarity.toLowerCase(),"Count");S.rarityCounter=y({},S.rarityCounter,p({},t,S.rarityCounter[t]+=1))}(e)},returnRarityCounter:function(){return S.rarityCounter},publicAddToShipCounter:function(e){!function(e){var t=["".concat(e.rarity.toLowerCase(),"ShipsCount")];S.shipCounter=y({},S.shipCounter,p({},t,y({},S.shipCounter[t],p({},e.name,y({},S.shipCounter[t][e.name],{counter:S.shipCounter[t][e.name].counter+=1})))))}(e)},returnShipCounter:function(){return S.shipCounter},resetState:function(){S.currentConstructed=[],S.totalRolls=0,S.sinceLastSSRCounter=0,S.rarityCounter={nCount:0,rCount:0,srCount:0,ssrCount:0},R()}}),v=function(){function e(){m(this,e)}return d(e,null,[{key:"setCurrentSelected",value:function(e){document.querySelector(".banner_dropdown").value=e.dropdownVal}},{key:"setCurrentRates",value:function(e){var t=e.rates,r=t.ssrRate,i=t.srRate,n=t.rRate,a=1-n-i-r;document.querySelector(".counter_rate-n").innerHTML="".concat(Math.round(100*a),"%"),document.querySelector(".counter_rate-r").innerHTML="".concat(Math.round(100*n),"%"),document.querySelector(".counter_rate-sr").innerHTML="".concat(Math.round(100*i),"%"),document.querySelector(".counter_rate-ssr").innerHTML="".concat(Math.round(100*r),"%")}},{key:"resetCurrentConstructed",value:function(){document.querySelectorAll(".constructions_ship").forEach(function(e){e.classList.add("constructions-hidden"),e.children[0].src="",e.children[0].alt="",e.children[0].title="",e.children[0].className="",e.children[1].textContent=""})}},{key:"setCurrentConstructed",value:function(e){var t=[document.querySelector(".constructions_1")],r=Array.from(document.querySelectorAll(".constructions_10")),i=b.returnCurrentConstructed(),n=function(e){e[0].classList.contains("constructions-hidden")||e.forEach(function(e){e.classList.add("constructions-hidden"),e.children[0].src="",e.children[0].alt="",e.children[0].title="",e.children[0].className="",e.children[1].textContent=""})},a=function(e){for(var t=0;t<e.length;t++){e[t].classList.remove("constructions-hidden","limited");var r=e[t].children[0],n=e[t].children[1];r.src="src/img/ships/".concat(i[t].name.toLowerCase().replace(/\s+/g,"-"),".png"),r.alt=i[t].name,r.title=i[t].name.replace(/\s+/g,"-"),r.className="constructions_ship-".concat(i[t].rarity.toLowerCase()),i[t].limited&&e[t].classList.add("limited"),n.textContent=i[t].name}};"1"===e?(n(r),a(t)):(n(t),a(r))}},{key:"updateRarityCount",value:function(){var e=b.returnRarityCounter(),t=b.returnTotalRolls();["N","R","SR","SSR"].forEach(function(r){var i=0===t?0:function(e){return+(Math.round(e+"e+2")+"e-2")}(e["".concat(r.toLowerCase(),"Count")]/t*100);document.querySelector(".counter_value-".concat(r.toLowerCase())).textContent="".concat(e["".concat(r.toLowerCase(),"Count")]," (").concat(i,"%)")})}},{key:"setShipCount",value:function(e){var t=e.ssr,r=e.sr,i=e.r,n=e.n;document.querySelectorAll(".counter_ship").forEach(function(e){return e.remove()});var a=function(e,t){e.forEach(function(e){var r=document.createElement("li");r.className="counter_ship";var i=document.createElement("span"),n=e.name.replace(/\s+/g,"");r.innerHTML='<img class="counter-img" src=./src/img/ships/'.concat(e.name.toLowerCase().replace(/\s+/g,"-"),".png />"),i.innerHTML="0",i.dataset.shipName=n,r.appendChild(i),document.querySelector(".counter_ships-".concat(t)).appendChild(r)})};a(n,"n"),a(i,"r"),a(r,"sr"),a(t,"ssr")}},{key:"updateShipCount",value:function(){var e=b.returnShipCounter(),t=e.nShipsCount,r=e.rShipsCount,i=e.srShipsCount,n=e.ssrShipsCount,a=function(e){Object.keys(e).map(function(t){return{name:t,counter:e[t].counter}}).forEach(function(e){var t=e.name.replace(/\s+/g,"");document.querySelector("[data-ship-name='".concat(t,"']")).textContent=e.counter})};a(t),a(r),a(i),a(n)}},{key:"setBannerImage",value:function(e){document.querySelector(".banner_img").src=e}},{key:"resetStats",value:function(){document.querySelector(".stats_total").textContent=0,document.querySelector(".stats_cubes").textContent=0,document.querySelector(".stats_gold").textContent=0}},{key:"updateStats",value:function(e){var t,r,i=b.returnTotalRolls();1===e.cost?(t=1,r=700):(t=2,r=1500),document.querySelector(".stats_total").textContent=i,document.querySelector(".stats_cubes").textContent=i*t,document.querySelector(".stats_gold").textContent=i*r}},{key:"setShowcase",value:function(e){var t=document.querySelector(".banner_showcase");document.querySelectorAll(".banner_showcase-ship").forEach(function(e){return e.remove()});if(e.limited){var r=[].concat.apply([],Object.values(e.ships)).filter(function(e){return e.limited});t.classList.remove("banner_showcase-hidden"),r.forEach(function(e){var r,i=document.createElement("figure"),n=(r=100*e.rate,+(Math.round(r+"e+2")+"e-2"));i.className="banner_showcase-ship",i.innerHTML='\n                    <img class="banner_showcase-ship-'.concat(e.rarity.toLowerCase(),'" src="./src/img/ships/').concat(e.name.toLowerCase().replace(/\s+/g,"-"),'.png" alt=').concat(e.name," title=").concat(e.name.replace(/\s+/g,"-")," />\n                    <figcaption>").concat(e.name,"</figcaption>\n                    <figcaption>").concat(n,"%</figcaption>\n                "),t.appendChild(i)})}else t.classList.add("banner_showcase-hidden")}},{key:"preloadShipImages",value:function(e){[].concat.apply([],Object.values(e.ships)).forEach(function(e){(new Image).src="img/ships/".concat(e.name.toLowerCase().replace(/\s+/g,"-"),".png")})}}]),e}(),k=function(){function e(){m(this,e)}return d(e,null,[{key:"getCurrentBanner",value:function(){return localStorage.getItem("banner")?JSON.parse(localStorage.getItem("banner")):""}},{key:"setCurrentBanner",value:function(e){localStorage.setItem("banner",JSON.stringify(e))}}]),e}(),w=(C=function(e){f=e},g=function(e){var t=("1"===e?Array.from({length:1},function(){return Math.random()}):Array.from({length:10},function(){return Math.random()})).map(function(e){return function(e,t){t.limited;var r=t.ships,i=t.rates,n=i.ssrRate,a=i.srRate,o=i.rRate,s=i.srThreshold,l=i.rThreshold,c=i.ssrLimited,m=i.srLimited,u=i.rLimited,d=function(e,t){var i=t?r[e].filter(function(e){return e.limited&&e.rate===t}):r[e].filter(function(e){return!e.limited});return y({},i[Math.floor(Math.random()*i.length)])};if(e<=n||e<=s||e<=l){var p=Math.random(),h=function(e,t,i){var n=r[e].filter(function(e){return e.limited&&e.rate===i.rate1}).length;if(i){if(i.rate1){var a=n*i.rate1/t;if(p<=a)return d(e,i.rate1)}if(i.rate2){var o=i.rate2/t+n*i.rate1/t;if(p<=o)return d(e,i.rate2)}}return d(e)};if(e<=n)return h("ssr",n,c);if(e<=s)return h("sr",a,m);if(e<=l)return h("r",o,u)}return d("n")}(e,f)});t.forEach(function(e){b.publicAddTotal(),b.publicCheckIfLastIsSSR(e),b.publicAddToRarityCounter(e),b.publicAddToShipCounter(e)}),b.publicSetCurrentConstructedState(t),v.setCurrentConstructed(e),v.updateRarityCount(),v.updateShipCount(),v.updateStats(f)},{publicGetBanner:function(e){C(e)},publicConstruct:function(e){g(e.target.dataset.rollValue)},publicChangeBanner:function(e){!function(e){L.removeEventListener("click",w.publicConstruct),N.removeEventListener("click",w.publicConstruct),C(e),L.addEventListener("click",w.publicConstruct),N.addEventListener("click",w.publicConstruct),b.resetState(),b.publicSetBannerTitle(e.title),b.publicSetInitialShipCounter(e.ships),v.preloadShipImages(e),v.setBannerImage(e.image),v.updateRarityCount(),v.setShipCount(e.ships),v.resetCurrentConstructed(),v.setShowcase(e),v.resetStats(),v.setCurrentRates(e),k.setCurrentBanner(e)}(e)}});document.addEventListener("DOMContentLoaded",function(){var e;e=k.getCurrentBanner()?k.getCurrentBanner():c.heavyConstruction,w.publicGetBanner(e),b.publicSetBannerTitle(e.title),b.publicSetInitialShipCounter(e.ships),v.setShipCount(e.ships),v.updateRarityCount(),v.setBannerImage(e.image),v.resetStats(),v.setShowcase(e),v.preloadShipImages(e),v.setCurrentRates(e),v.setCurrentSelected(e)});var L=document.querySelector(".btn_construct-10");L.dataset.rollValue=10,L.addEventListener("click",w.publicConstruct);var N=document.querySelector(".btn_construct-1");N.dataset.rollValue=1,N.addEventListener("click",w.publicConstruct),document.querySelector(".banner_dropdown").addEventListener("change",function(e){switch(e.target.value){case"CrimsonEchoes":w.publicChangeBanner(c.crimsonEchoes);break;case"Light":w.publicChangeBanner(c.lightConstruction);break;case"Heavy":w.publicChangeBanner(c.heavyConstruction);break;case"WintersCrownRerun":w.publicChangeBanner(c.wintersCrownRerun);break;case"LunarNewYear2019":w.publicChangeBanner(c.lunarNewYears);break;case"OppositeColoredRerun":w.publicChangeBanner(c.oppositeColouredRerun);break;case"Special":w.publicChangeBanner(c.specialConstruction);break;case"EssexAirRaid":w.publicChangeBanner(c.essexAirRaid);break;case"StarrySkyArcticFjord":w.publicChangeBanner(c.arcticFjord);break;default:w.publicChangeBanner(c.lightConstruction)}})}]);